# UC001-005: カスタマイズビュー 実装指示書

## 1. 画面概要
- ステータス: 実装済プロト
- ゴール:
  - 確定前のプランを詳細に調整する
  - アイテム単位でAI提案とユーザー編集を併用する

## 2. 主なセクション
- プランタイムライン編集
- 費用・所要時間の自動再計算
- アイテム比較パネル
- カップルコメントスレッド

## 3. UIメモ
- ベーススタイルは `css/common.css` / `css/components.css` に準拠
- モバイルビューは `css/responsive.css` のブレークポイント (max-width: 768px) を利用
- 遷移には `js/navigation.js` の `navigateTo`/`goBack` を活用

## 4. 操作と遷移
| 要素 | 遷移/動作 | 備考 |
|------|-----------|------|
| 共同編集へ | navigateTo('UC002-001') | 共同編集ボードへ移行 |
| プラン詳細へ戻る | navigateTo('UC001-004') | 閲覧モードに戻る |
| 確定する | 承認処理 | UC001-003 の確定APIに接続 |

## 5. API / データ連携
- **PUT /api/v1/plans/{planId}/customizations**: カスタマイズ内容の保存
- **GET /api/v1/plans/{planId}/ai-suggestions**: AI 追加提案

## 6. テスト観点
- タイムライン編集で再計算が即時反映される
- AI提案を採用/却下した履歴が保持される

## 7. 実装メモ
- 差分表示用に JSON Patch を採用予定
- コメントは UC002 のリアルタイム基盤を再利用

