# UC002-003: 編集履歴画面 実装指示書

## 1. 画面概要
- ステータス: プロト完了 (実装予定)
- ゴール:
  - 共同編集の変更履歴を時系列で可視化
  - 任意の時点へロールバックできるようにする

## 2. 主なセクション
- タイムラインビュー
- 差分プレビュー
- 復元ボタンと承認ワークフロー連携

## 3. UIメモ
- ベーススタイルは `css/common.css` / `css/components.css` に準拠
- モバイルビューは `css/responsive.css` のブレークポイント (max-width: 768px) を利用
- 遷移には `js/navigation.js` の `navigateTo`/`goBack` を活用

## 4. 操作と遷移
| 要素 | 遷移/動作 | 備考 |
|------|-----------|------|
| 戻る | navigateTo('UC002-001') | ボードへ戻る |
| 復元 | PATCH / rollback | 復元後はトースト |

## 5. API / データ連携
- **GET /api/v1/plans/{planId}/history**: 履歴一覧
- **POST /api/v1/plans/{planId}/history/{historyId}/restore**: 指定履歴へ復元

## 6. テスト観点
- 差分プレビューで追加/削除が色分けされる
- 復元後に共同編集ボードへ反映される

## 7. 実装メモ
- 監査ログは別テーブルで保持
- ロールバックは悲観ロックで実装

